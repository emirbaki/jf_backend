generator client {
  provider = "prisma-client-js"
  output   = "../generated/prisma"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model fact_checks {
  id          BigInt    @id
  tweet_id    BigInt?   @unique
  result      String?   @db.VarChar(125)
  confidence  Float?
  explanation String?
  checked_at  DateTime? @db.Timestamptz(6)
  tweets      tweets?
}

model news_articles {
  id           BigInt    @id
  title        String?
  content      String?
  source       Int       @unique @default(autoincrement())
  url          String?
  published_at DateTime? @db.Timestamptz(6)
  fetched_at   DateTime? @db.Timestamptz(6)
  sources      sources?
}

model sources {
  id                Int           @id @default(autoincrement())
  name              String?       @unique @db.VarChar(125)
  reliability_score Float?
  source_type       String?       @db.VarChar(125)
  news_articles     news_articles @relation(fields: [id], references: [source], onDelete: NoAction, onUpdate: NoAction)
  tweets            tweets?       @relation(fields: [name], references: [author], onDelete: NoAction, onUpdate: NoAction)
}

model tweets {
  id            BigInt      @id
  text          String?
  author        String?     @unique @db.VarChar(125)
  created_at    DateTime?   @db.Timestamptz(6)
  fetched_at    DateTime?   @db.Timestamptz(6)
  tweet_url     String?
  topic         String?
  likes_count   Int?
  comment_count Int?
  retweet_count Int?
  viewing_count BigInt?
  sources       sources?
  fact_checks   fact_checks @relation(fields: [id], references: [tweet_id], onDelete: NoAction, onUpdate: NoAction)
}
